{"nodes":[{"id":"1","type":"start","label":"Start Flow","position":{"x":-720.0,"y":45.0},"data":{}},{"id":"node_1767081557149_3tkz8ga8g","type":"script","label":"Situacion dramatica ","position":{"x":-465.0,"y":195.0},"data":{"interpreter":"bash","script_body":"python3 /mnt/datos/PROGRAMACION/PYTHON/FICTIONIDE/resources/polti/polti.py"}},{"id":"node_1767081890146_9kxdxbwsg","type":"llm","label":"Genera 1ra historia ","position":{"x":-645.0,"y":330.0},"data":{"system_prompt":"Eres un Showrunner Experto en Fantasía. Tu trabajo consiste en tomar una \"Situación Dramática\" clásica (de Polti) y reimaginarla como una propuesta (pitch) de anime de recuentos de la vida (Slice-of-Life) \"Post-Aventura\". Piensa en ánimes como Frieren, Ousama Ranking o Mahoutsukai no Yome, pero no plagies. Conserva el estilo, la sensibilidad, el mood de la historia.\n\nEL FILTRO DE \"ATMÓSFERA\" (APLICA ESTO A CADA HISTORIA)\n\nDebes aplicar el filtro de \"Baja Energía / Alta Letalidad\" a la situación inicial:\n\nLa meta siempre es mundana: Aunque la situación sea una \"Revolución\", el personaje solo quiere vivir en paz.\n\nEl conflicto es molesto, no aterrador: Los monstruos y villanos son tratados como plagas o tareas domésticas \n\nLa resolución es instantánea: Sin gritos. Sin peleas largas. El héroe utiliza magia científica abrumadora para terminar el problema en un segundo.\n\nESTRUCTURA Y FÓRMULAS\n\n1. GANCHO DE ALTO CONCEPTO (Máx. 15 palabras)\nCombina la Situación de Polti con una actividad mundana.\nFórmula: \"Una historia sobre [El tema de Polti] interrumpida por [una molestia mundana].\"\n\n2. LOGLINE (1 frase)\nNo utilices una plantilla fija; en su lugar, sigue esta lógica:\n[El Protagonista] intenta [Meta mundana de bajo riesgo relacionada con la situación], pero se ve obligado a eliminar a [El Antagonista] cuando este [Interrumpe la meta mundana].\n\n3. DRAMATIS PERSONAE \n\nDescribe con un arquetipo y en una l\n\n4. SINOPSIS CORTA (3 párrafos)\n\nTU TAREA\n\nEspera a que el usuario proporcione la \"Situación de Polti\". Aplica el filtro. Escribe la propuesta en español  (Pitch).","user_prompt":"{input}"}},{"id":"node_1767082674267_0xvzlw6en","type":"llm","label":"historia segun personajes","position":{"x":-645.0,"y":495.0},"data":{"system_prompt":"Eres un Diseñador Narrativo Principal para un estudio de anime. Te especializas en la \"voz del personaje\" y en la \"narrativa subjetiva\".\n\nTu tarea es tomar una Propuesta de Historia preescrita (proporcionada por el usuario) y reescribir la escena de la historia desde la perspectiva de cada uno de los personajes que aparecen en dicha propuesta.\n\nDATOS DE ENTRADA\n\nLeerás el texto proporcionado por el usuario. Este contiene una sección de \"DRAMATIS PERSONAE\" y una \"SINOPSIS\".\n\nINSTRUCCIONES\n\nAnaliza la entrada del usuario para encontrar el \"DRAMATIS PERSONAE\".\n\nIdentifica a los personajes.\n\nEscribe \"POV 1: [Nombre del personaje]\" seguido de su versión de la historia.\n\nEscribe \"POV 2: [Nombre del personaje]\" seguido de su versión de la historia.\n\nRepite para cada uno de los personajes.\n\nTU TAREA\n\nLee la historia del usuario. Genera las historias desde el POV de cada personaje. No añadas relleno conversacional.","user_prompt":"{input}"}},{"id":"node_1767083377190_47rp6itxp","type":"file_write","label":"Escribe exploraciones","position":{"x":-345.0,"y":495.0},"data":{"mode":"a","path":"/home/hamlet/Escritorio/propuestas_narrativa.txt","content":"STORY:\n{Genera 1ra historia}\nCHARACTERS:\n{historia segun personajes}\n"}},{"id":"node_1767083700272_qbo6cq0dp","type":"script","label":"Notificacion","position":{"x":-240.0,"y":60.0},"data":{"script_body":"notify-send polti"}},{"id":"node_1767093461432_kdt216khh","type":"while_loop","label":"while_loop","position":{"x":-465.0,"y":45.0},"data":{"max_iterations":"5"}}],"edges":[{"source":"node_1767082674267_0xvzlw6en","target":"node_1767083377190_47rp6itxp","sourceHandle":"out-default","targetHandle":"in-default"},{"source":"node_1767093461432_kdt216khh","target":"node_1767081557149_3tkz8ga8g","sourceHandle":"out-continue","targetHandle":"in-default"},{"source":"node_1767093461432_kdt216khh","target":"node_1767083700272_qbo6cq0dp","sourceHandle":"out-done","targetHandle":"in-default"},{"source":"1","target":"node_1767093461432_kdt216khh","sourceHandle":"out-default","targetHandle":"in-default"},{"source":"node_1767083377190_47rp6itxp","target":"node_1767093461432_kdt216khh","sourceHandle":"out-default","targetHandle":"in-default"},{"source":"node_1767081557149_3tkz8ga8g","target":"node_1767081890146_9kxdxbwsg","sourceHandle":"out-default","targetHandle":"in-default"},{"source":"node_1767081890146_9kxdxbwsg","target":"node_1767082674267_0xvzlw6en","sourceHandle":"out-default","targetHandle":"in-default"}]}